<aside
  [class.open]="open()"
  class="sidebar fixed inset-y-0 start-0 z-30 w-64 bg-surface border-e border-border flex flex-col"
  [attr.aria-label]="'LAYOUT.SIDEBAR' | translate"
>
  <!-- Brand -->
  <div class="p-4 border-b border-border">
    @if (canSwitchSchool()) {
      <a
        routerLink="/schools"
        (click)="close()"
        [attr.aria-label]="'SCHOOL.SWITCH_SCHOOLS' | translate"
        class="flex items-center gap-2 group no-underline"
      >
        <fa-icon
          icon="arrow-left"
          class="back-arrow text-sm text-text-tertiary transition-colors group-hover:text-accent"
        />
        <h3
          class="text-lg font-bold text-text-primary truncate transition-colors group-hover:text-accent"
        >
          {{ schoolName() || ('COMMON.APP_NAME' | translate) }}
        </h3>
      </a>
    } @else {
      <h3 class="text-lg font-bold text-text-primary truncate">
        {{ schoolName() || ('COMMON.APP_NAME' | translate) }}
      </h3>
    }
  </div>

  <!-- Navigation -->
  <nav class="flex-1 overflow-y-auto p-3 flex flex-col gap-1">
    @for (item of navItems(); track item.route) {
      <a
        [routerLink]="item.route"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: false }"
        (click)="close()"
        class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-text-secondary transition-colors hover:bg-surface-hover hover:text-text-primary [&.active]:bg-accent [&.active]:text-white [&.active]:hover:bg-accent-hover no-underline"
      >
        <fa-icon [icon]="item.icon" class="text-xl leading-none" />
        {{ item.labelKey | translate }}
      </a>
    }
  </nav>
</aside>
