<div class="min-h-screen flex bg-bg-primary">
  <!-- Sidebar overlay (mobile) -->
  @if (sidebarOpen()) {
    <div
      class="fixed inset-0 bg-black/50 z-20 lg:hidden"
      (click)="closeSidebar()"
      (keydown.escape)="closeSidebar()"
      aria-hidden="true"
    ></div>
  }

  <!-- Sidebar -->
  <app-sidebar [open]="sidebarOpen()" (closed)="closeSidebar()" class="z-30" />

  <!-- Main content area -->
  <div class="flex-1 flex flex-col min-h-screen lg:ms-64">
    <!-- Header -->
    <header
      class="sticky top-0 z-10 bg-surface border-b border-border px-4 py-3 flex items-center justify-between"
    >
      <button
        type="button"
        (click)="toggleSidebar()"
        [attr.aria-label]="'LAYOUT.TOGGLE_SIDEBAR' | translate"
        class="lg:hidden p-2 rounded-lg border-0 bg-transparent text-text-primary cursor-pointer transition-colors hover:bg-surface-hover"
      >
        <fa-icon icon="bars" class="text-xl leading-none" />
      </button>

      <div class="flex items-center mt-1 gap-3 ms-auto">
        <app-notification-bell />
        <app-theme-toggle />
        <app-language-switcher />
        <button
          type="button"
          (click)="logout()"
          class="px-3 py-1.5 border border-border rounded-lg bg-transparent text-sm font-medium text-text-secondary cursor-pointer transition-colors hover:bg-surface-hover hover:text-danger-text"
        >
          {{ 'AUTH.LOGOUT' | translate }}
        </button>
      </div>
    </header>

    <!-- Page content -->
    <main id="main-content" class="flex-1 p-4 lg:p-6">
      <router-outlet />
    </main>
  </div>
</div>
